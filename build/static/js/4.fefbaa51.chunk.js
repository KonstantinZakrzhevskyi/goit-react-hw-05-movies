(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{43:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={BASE_URL:"https://api.themoviedb.org/3/",KEY:"648d00fea4c547a3e26795f4c9810267",IMAGE:"https://image.tmdb.org/t/p/w300/"}},44:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchTrending",(function(){return u})),n.d(t,"fetchSearchMovies",(function(){return f})),n.d(t,"fetchMovieDetails",(function(){return l})),n.d(t,"fetchMovieCast",(function(){return d})),n.d(t,"fetchMovieReviews",(function(){return j}));var a=n(45),c=n.n(a),r=n(47),i=n(43);function o(){return s.apply(this,arguments)}function s(){return s=Object(r.a)(c.a.mark((function e(){var t,n,a,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,n);case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found!"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function u(){return o("".concat(i.a.BASE_URL,"trending/movie/day?api_key=").concat(i.a.KEY))}function f(e){return o("".concat(i.a.BASE_URL,"search/movie?api_key=").concat(i.a.KEY,"&languege=en-US&page=1&include_adult=false&query=").concat(e))}function l(e){return o("".concat(i.a.BASE_URL,"movie/").concat(e,"?api_key=").concat(i.a.KEY,"&languedge=en-US"))}function d(e){return o("".concat(i.a.BASE_URL,"movie/").concat(e,"/credits?api_key=").concat(i.a.KEY,"&languedge=en-US"))}function j(e){return o("".concat(i.a.BASE_URL,"movie/").concat(e,"/reviews?api_key=").concat(i.a.KEY,"&languedge=en-US&page=1"))}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},49:function(e,t,n){},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n.p+"static/media/searchMovies.7d175769.png",c=n(49),r=n.n(c),i=n(2);var o=function(){return Object(i.jsx)("div",{className:r.a.idleView,role:"alert",children:Object(i.jsx)("img",{src:a,alt:"SearchMovies",width:"600"})})}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),c=n.n(a),r=n(2);function i(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:e}),Object(r.jsx)("h2",{children:"404 page not found!"})]})}i.prototype={message:c.a.string.isRequired};var o=i},52:function(e,t,n){},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(1),c=n(6),r=n(43),i=n(52),o=n.n(i),s=n(2);var u=function(e){var t=e.movies,n=Object(a.f)();return Object(s.jsx)("ul",{className:o.a.gallery,children:t.map((function(e){return Object(s.jsx)("li",{className:o.a.galleryItem,id:e.id,children:Object(s.jsxs)(c.b,{to:"/movies/".concat(e.id),state:{from:n},children:[Object(s.jsx)("img",{className:o.a.galleryImage,src:"".concat(r.a.IMAGE).concat(e.poster_path),alt:e.title||e.name}),Object(s.jsx)("h3",{className:o.a.galleryTitle,children:e.title||e.name})]})},e.id)}))})}},56:function(e,t,n){},58:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n(44),i=n(48),o=n(3),s=n.n(o),u=n(54),f=n(56),l=n.n(f),d=n(2);function j(e){var t=e.onSubmit,n=Object(c.useState)(""),r=Object(a.a)(n,2),i=r[0],o=r[1],s=function(){o("")};return Object(d.jsxs)("form",{className:l.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==i.trim()?(t(i),s()):u.b.error("Enter request!")},children:[Object(d.jsx)("input",{className:l.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:i,onChange:function(e){o(e.currentTarget.value.toLowerCase())}}),Object(d.jsx)("button",{type:"submit",disabled:!i,className:l.a.searchFormButton,children:Object(d.jsx)("span",{className:l.a.searchFormButtonLabel,children:"Search"})})]})}j.prototype={onSubmit:s.a.func.isRequired};var h=j,b=n(53),m=n(50),v=n(51),p=n(11),E=(n(57),n(58)),g=n.n(E);t.default=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],o=t[1],s=Object(c.useState)([]),f=Object(a.a)(s,2),l=f[0],j=f[1],E=Object(c.useState)(i.a.IDLE),O=Object(a.a)(E,2),x=O[0],S=O[1];return Object(c.useEffect)((function(){n&&(S(i.a.PENDING),r.fetchSearchMovies(n).then((function(e){if(0===e.length)throw new Error;j(e.results),S(i.a.RESOLVED)})).catch((function(e){S(i.a.REJECTED)})))}),[n]),x===i.a.IDLE?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h,{onSubmit:function(e){o(e)}}),Object(d.jsx)(m.a,{})]}):x===i.a.PENDING?Object(d.jsx)(p.a,{}):x===i.a.RESOLVED?Object(d.jsxs)("div",{className:g.a.moviesPage,children:[Object(d.jsx)(h,{onSubmit:onsubmit}),Object(d.jsx)(b.a,{movies:l}),Object(d.jsx)(u.a,{autoClose:3e3})]}):x===i.a.REJECTED?Object(d.jsx)(v.a,{message:"No results were found for your search"}):void 0}}}]);
//# sourceMappingURL=4.fefbaa51.chunk.js.map